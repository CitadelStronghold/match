inputs:
  release:
    type: boolean
  working_directory:
    type: string
    default: '.'
runs:
  using: 'composite'
  steps:
    - run: cd ${{ inputs.working_directory }}
      shell: bash
    - name: Purge
      shell: bash
      run: |
        rm -r -f ./build
    - name: Build Debug
      if: inputs.release == 'false'
      shell: bash
      run: |
        cmake -S cxx -B ./build
        cmake --build ./build --config Debug
    - name: Build Release
      if: inputs.release == 'true'
      shell: bash
      run: |
        cmake -S cxx -B ./build
        cmake --build ./build --config Release
    - name: Executable
      if: runner.os == 'Linux'
      shell: bash
      run: |
        sudo chmod +x ./build/TeekValidator