inputs:
  working_directory:
    type: string
    required: true
  do_cache:
    type: boolean
    default: false
    required: false
runs:
  using: 'composite'
  steps:
    - run: cd ${{ inputs.working_directory }}
      shell: bash
    - name: Release Build
      uses: ./cxx/lib/TeekValidator/.github/workflows/build
      with:
        release: true
        working_directory: ${{ inputs.working_directory }}

    #- name: Key Date
    #  id: date
    #  shell: bash
    #  run: echo "::set-output name=date::$(date +'%Y-%m-%d-%H-%M-%S')"
    #- name: Cache Workspace
    #  id: cache-internal
    #  uses: actions/cache@v3
    #  with:
    #    path: |
    #      ${{ inputs.path }}
    #    key: |
    #      ${{ inputs.key }}-cache-${{ steps.date.outputs.date }}
    #    restore-keys: |
    #      ${{ inputs.key }}-cache
